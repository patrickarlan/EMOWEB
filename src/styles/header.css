@tailwind base;
@tailwind components;
@tailwind utilities;


/* Fallback header styles (works even if Tailwind utilities aren't loaded) */
.site-header{
	/* glass surface: translucent, blurred, with subtle cyan border */
	background: rgba(2, 100, 205, 0.12);
	backdrop-filter: blur(8px) !important;
	-webkit-backdrop-filter: blur(8px) !important;
	/* use position:sticky to keep the header attached without changing layout */
	position: sticky;
	top: 50px;
	height:100px;
	display:grid;
	grid-template-columns: auto 1fr auto;
	align-items:center;
	transition: transform 320ms cubic-bezier(.2,.9,.2,1), top 320ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms cubic-bezier(.2,.9,.2,1), border-color 220ms ease, -webkit-backdrop-filter 220ms ease, backdrop-filter 220ms ease;
	transform-style: preserve-3d;
	transform-origin: center top;
	z-index:100;

	max-width:1200px;
	width: 80%;
	margin:18px auto; /* center horizontally with some vertical breathing room */
	padding:0.5rem 0.9rem;
	border-radius:16px;
	border: 1px solid rgba(2, 100, 205, 0.315);

}

/* Temporary: strong-test overlay to verify backdrop-filter is actually applied.
   If the blur becomes visible, we can reduce the values and keep the effect. */
.site-header{
	position: sticky; /* ensure positioning is present */
	overflow: visible; /* allow pseudo-element to be visible */
}

.site-header::before{
	content: "";
	position: absolute;
	inset: 0;
	border-radius: inherit;
	background: rgba(6, 24, 53, 0.12); /* subtle tint to make blur visible */
	-webkit-backdrop-filter: blur(8px) !important;
	backdrop-filter: blur(8px) !important;
	pointer-events: none;
	z-index: 0;
}

/* make sure header children render above the ::before layer */
.site-header > *{ position: relative; z-index: 1 }

/* title flushed to left edge */
.site-title{
	position: relative;
	left:0;
	font-size:1.125rem;
	font-weight:700;
	color:#ffffff;
	margin:0; /* reset default spacing */
}

.logo-image {
	height: 50px;
	margin-left: 0;
}

/* The logo and title are wrapped by an anchor (.site-nav). Because
   that anchor is the direct child of .header-logo, changing
   .header-logo's gap won't affect spacing between the img and h1.
   Ensure the anchor itself is a flex container with a gap. */
.header-logo .site-nav{
	display:flex;
	align-items:center;
	gap:12px; /* reduced gap so the center nav appears visually centered */
	text-decoration:none; /* keep anchor visually like plain text */
	margin-left: 0; /* avoid pushing layout to the right */
}
/* Left wrapper for logo + title so we can add gap without shifting center nav */
.header-logo{
	display:flex;
	align-items:center;
	gap:12px; /* controls space between logo and title */
	padding-left:0.75rem; /* breathing room from the page edge */
	justify-self:start;
}


.site-title:hover{
	color:var(--accent, #2563eb);
	transition: all 0.5s ease;
	transform: translateZ(0) scale(1.08);
}

.logo-image:hover{
	transition: all 0.5s ease;
	transform: translateZ(0) scale(1.08);
}

.site-container{
	width:100%;
	max-width:1100px;
	margin:0 auto;
	padding:0 0.5rem;
	height:100%;
	display:flex;
	align-items:center;
	justify-content:center; /* center nav */
	justify-self:center; /* ensure this container stays centered in the grid */
}

/* Header nav uses grid: columns on wide screens, stacks into rows on smaller screens */
.header-nav{
	display:grid;
	grid-auto-flow:column;
	grid-auto-columns:auto;
	gap:2rem;
	justify-content:center;
	align-items:center;
	margin:0;

}

.nav-link{ color:rgba(255,255,255,0.92); text-decoration:none; font-size:0.95rem; position:relative; z-index:1; overflow:visible }
.nav-link + .nav-link{ margin-left:0 }

/* gradient fill hover for header nav links (underline -> full fill) */
.nav-link{
	position:relative;
	background: linear-gradient(120deg, #0085f175 0%, #333399 100%);
	background-repeat: no-repeat;
	background-size: 100% 0.18em;
	background-position: 0 100%;
	border-radius: 8px;
	padding: 8px 12px;
	transition: background-size 0.25s ease-in, color 0.18s ease;
}
.nav-link:hover,
.nav-link:focus-visible{
	background-size: 100% 100%;
	border-radius: 8px;
	color: #fff;
}

/* glowing halo behind header nav links */
.nav-link::after{
	content: "";
	position:absolute;
	left:-14%; right:-14%; top:-40%; bottom:-40%;
	border-radius:12px;
	background: radial-gradient(ellipse at center, rgba(9,198,255,0.10), rgba(139,92,246,0.07) 45%, transparent 65%);
	filter: blur(14px);
	opacity:0;
	transition: opacity 260ms ease, transform 260ms ease, filter 260ms ease;
	z-index:0;
	pointer-events:none;
}

.nav-link:hover::after,
.nav-link:focus-visible::after{
	opacity:1;
	transform: translateY(-3px) scale(1.02);
	filter: blur(18px);
}

.nav-link:hover,
.nav-link:focus-visible{
	box-shadow: 0 8px 28px rgba(9,198,255,0.08), 0 20px 60px rgba(139,92,246,0.06);
}

@media (prefers-reduced-motion: reduce){
	.nav-link::after{ transition:none; }
	.nav-link{ transition:none }
}

/* Push page content below the fixed header */
.page-content{ padding-top:0 }

@media (max-width:768px){
	.header-nav{ grid-auto-flow:row; gap:1rem }
}
/* Right-side header controls (search + profile) */

.header-controls{
	display:flex;
	gap:20px;
	padding-right:0.75rem; /* match site-title padding */
	align-items:center;
	justify-self:end; /* keep controls in the right column */
	margin-right: 0;
}

.search-button,
.profile-button{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	width:36px;
	height:36px;
	padding:0;
	margin: 0;
	border-radius:0.375rem;
	background: rgba(255,255,255,0.04);
	border: 0;
	cursor: pointer;
	color: rgba(255,255,255,0.92);
}
.search-button:hover,
.profile-button:hover{ background:rgba(15,23,42,0.04); color:var(--text); transform:translateY(-1px); }

/* cart button matches the other header control sizes and hover behaviour */
.cart-button{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	width:36px;
	height:36px;
	padding:0;
	margin:0;
	border-radius:0.375rem;
	background: rgba(255,255,255,0.04);
	border:0;
	cursor:pointer;
	color: rgba(255,255,255,0.92);
}
.cart-button:hover{ background:rgba(15,23,42,0.04); color:var(--text); transform:translateY(-1px); }

/* profile placeholder circle when no image provided */
.profile-button svg{ border-radius:9999px; }

/* Logged-in profile button styles */
.profile-button-logged {
  background: linear-gradient(135deg, #7dd3fc, #8b5cf6) !important;
  border: 2px solid rgba(139, 92, 246, 0.3);
}

.profile-button-img {
  width: 100%;
  height: 100%;
  border-radius: 0.375rem;
  object-fit: cover;
}

.profile-button-letter {
  font-size: 16px;
  font-weight: 700;
  color: #022c43;
  text-transform: uppercase;
}

.profile-button-logged:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

@media (max-width:480px){
	.header-controls{ padding-right:0.5rem }
	.search-button,.profile-button{ width:32px;height:32px }
}

/* hover and focus effects for header (subtle lift + stronger blur) */
.site-header:hover,
.site-header:focus-within{
	/* non-sticky hover: only translate Y (no scale) */
	transform: translateY(-4px);
	box-shadow: 0 10px 40px rgba(0,0,0,0.14);
	-webkit-backdrop-filter: blur(8px);
	backdrop-filter: blur(8px);
	border-color: rgba(2, 100, 205, 0.32);
}

/* when header is sticky we must preserve the horizontal centering (translateX),
   so apply translateX(-50%) together with translateY on hover/focus */
.site-header.sticky:hover,
.site-header.sticky:focus-within{
	/* slightly stronger lift while hovered when already sticky */
	transform: translate3d(0px, -34px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg);
	-webkit-backdrop-filter: blur(28px);
	backdrop-filter: blur(28px);
	border-color: rgba(2, 100, 205, 0.32);
}

@media (prefers-reduced-motion: reduce){
	.site-header{ transition: none; }
	.site-header:hover, .site-header:focus-within{ transform: none; }
}

/* Styles applied when header becomes sticky (following the viewport) */
.site-header.sticky{
	/* when scrolled, slightly increase blur and shadow without changing layout */
	z-index: 1100;
	border-radius: 14px;
	-webkit-backdrop-filter: blur(24px);
	backdrop-filter: blur(24px);
	box-shadow: 0 10px 10px rgba(6, 54, 77, 0.18);
	border-color: rgba(2,100,205,0.26);
	/* requested 3D transform when scrolled */
	top: 50px; /* add more space from the top when header becomes sticky */
	transform: translate3d(0px, -30px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg);
}

/* ensure smooth small movement */
.site-header{
	will-change: transform, box-shadow, backdrop-filter;
}

/* Search Container & Dropdown Styles */
.search-container {
	position: relative;
	flex: 1;
	max-width: 350px;
	margin: 0 8px;
}

.search-input-box {
	position: relative;
	display: flex;
	align-items: center;
	background: rgba(255, 255, 255, 0.08);
	border: 2px solid rgba(255, 255, 255, 0.1);
	border-radius: 12px;
	padding: 0 12px;
	transition: all 0.3s ease;
}

.search-input-box:focus-within {
	background: rgba(255, 255, 255, 0.12);
	border-color: #4adeff;
	box-shadow: 0 0 0 3px rgba(74, 222, 255, 0.1);
}

.search-icon-input {
	color: rgba(255, 255, 255, 0.5);
	flex-shrink: 0;
	margin-right: 8px;
}

.search-input-field {
	flex: 1;
	background: transparent;
	border: none;
	outline: none;
	color: white;
	font-size: 14px;
	padding: 10px 32px 10px 0;
	font-family: inherit;
}

.search-input-field::placeholder {
	color: rgba(255, 255, 255, 0.4);
}

.search-clear-btn {
	position: absolute;
	right: 8px;
	top: 50%;
	transform: translateY(-50%);
	background: transparent;
	border: none;
	color: rgba(255, 255, 255, 0.5);
	cursor: pointer;
	padding: 4px;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	transition: all 0.2s ease;
	width: 24px;
	height: 24px;
}

.search-clear-btn:hover {
	background: rgba(255, 255, 255, 0.1);
	color: white;
}

.search-dropdown {
	position: absolute;
	top: calc(100% + 8px);
	left: 0;
	right: 0;
	background: linear-gradient(135deg, rgba(31, 41, 55, 0.98), rgba(17, 24, 39, 0.98));
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 16px;
	box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
	max-height: 400px;
	overflow-y: auto;
	z-index: 1000;
	backdrop-filter: blur(24px);
	animation: dropdownSlide 0.2s ease;
}

.search-dropdown::-webkit-scrollbar {
	width: 6px;
}

.search-dropdown::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
	border-radius: 3px;
}

.search-dropdown::-webkit-scrollbar-thumb {
	background: rgba(74, 222, 255, 0.3);
	border-radius: 3px;
}

.search-dropdown::-webkit-scrollbar-thumb:hover {
	background: rgba(74, 222, 255, 0.5);
}

.search-dropdown-header {
	padding: 12px 16px;
	font-size: 12px;
	font-weight: 600;
	color: rgba(255, 255, 255, 0.6);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.search-result-item {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 12px 16px;
	cursor: pointer;
	transition: all 0.2s ease;
	border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.search-result-item:last-child {
	border-bottom: none;
}

.search-result-item:hover {
	background: rgba(74, 222, 255, 0.1);
}

.search-result-img {
	width: 60px;
	height: 60px;
	object-fit: cover;
	border-radius: 8px;
	background: rgba(255, 255, 255, 0.05);
	flex-shrink: 0;
}

.search-result-info {
	flex: 1;
	min-width: 0;
}

.search-result-title {
	font-size: 14px;
	font-weight: 600;
	color: white;
	margin: 0 0 4px 0;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.search-result-desc {
	font-size: 12px;
	color: rgba(255, 255, 255, 0.6);
	margin: 0 0 6px 0;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.search-result-price {
	font-size: 14px;
	font-weight: 700;
	color: #4adeff;
}

.search-no-results {
	padding: 40px 20px;
	text-align: center;
	color: rgba(255, 255, 255, 0.4);
}

.search-no-results p {
	margin: 12px 0 0 0;
	font-size: 14px;
}

.search-button-mobile {
	display: none;
	background: transparent;
	border: none;
	color: rgba(255, 255, 255, 0.8);
	cursor: pointer;
	padding: 8px;
	border-radius: 8px;
	transition: all 0.2s ease;
}

.search-button-mobile:hover {
	background: rgba(255, 255, 255, 0.1);
	color: white;
}

@keyframes dropdownSlide {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Mobile responsive */
@media (max-width: 768px) {
	.search-container {
		display: none;
	}
	
	.search-button-mobile {
		display: block;
	}
}